import{r as i,j as L}from"./index-B_TfSMX9.js";var M={center:0,top:-16,bottom:16},l=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(var(--transition-preset-pop-in-${t}-scale, 0.9)) translateY(var(--transition-preset-pop-in-${t}, ${M[t]}px))`},transitionProperty:"transform, opacity"}),V={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(var(--transition-preset-fade-up, -16px))"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(var(--transtion-preset-fade-down, 16px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(var(--transition-preset-fade-left, -16px))"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(var(--transition-preset-fade-right, 16px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(var(--transition-preset-skew-up, -20px)) skew(var(--transition-preset-skew-up-deg, -10deg, -5deg))"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(var(--transition-preset-skew-down, 20px)) skew(var(--transition-preset-skew-down-deg, -10deg, -5deg))"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(var(--transition-preset-rotate-left, 20px)) rotate(var(--transition-preset-rotate-left-deg, -5deg))"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(var(--transition-preset-rotate-right, 20px)) rotate(var(--transition-preset-rotate-right-deg, 5deg))"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...l("center"),common:{transformOrigin:"center center"}},"pop-top":{...l("top"),common:{transformOrigin:"top center"}},"pop-bottom":{...l("bottom"),common:{transformOrigin:"bottom center"}},"pop-left":{...l("center"),common:{transformOrigin:"center left"}},"pop-right":{...l("center"),common:{transformOrigin:"center right"}},"pop-bottom-left":{...l("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...l("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...l("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...l("top"),common:{transformOrigin:"top right"}}},W=typeof window<"u"&&typeof window.document<"u",A=W?i.useLayoutEffect:i.useEffect;function H(t,e){const{initialMounted:n,deps:r}=e,o=i.useRef(n);A(()=>()=>{o.current=n},[]),A(()=>{if(o.current){t();return}o.current=!0},r)}function X(t){const e=i.useRef(t);e.current=i.useMemo(()=>t,[t]);const n=i.useRef(null);return n.current||(n.current=function(...r){return e.current.apply(this,r)}),n.current}function U(t,e){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function J(t){return(t||0)*1e3}var y=(t=>(t.entered="entered",t.exited="exited",t.entering="entering",t.exiting="exiting",t.preExiting="pre-exiting",t.preEntering="pre-entering",t))(y||{});function K(t){const{duration:e,initial:n,exitDuration:r,timingFunction:o,mounted:f,reduceMotion:c,onEnter:d,onExit:p,onEntered:m,onExited:s,enterDelay:g,exitDelay:x}=t,[P,S,Y,I]=[e,r,g,x].map(J),[C,E]=i.useState(c?0:P),[k,w]=i.useState(()=>f?n?"pre-entering":"entered":"exited"),b=i.useRef(-1),T=i.useRef(-1),v=i.useRef(-1),F=X(a=>{const h=a?d:p,u=a?m:s;window.clearTimeout(b.current);const O=c?0:a?P:S;E(O),O===0?(typeof h=="function"&&h(),typeof u=="function"&&u(),w(a?"entered":"exited")):v.current=requestAnimationFrame(()=>{w(a?"pre-entering":"pre-exiting"),v.current=requestAnimationFrame(()=>{typeof h=="function"&&h(),w(a?"entering":"exiting"),b.current=window.setTimeout(()=>{typeof u=="function"&&u(),w(a?"entered":"exited")},O)})})}),R=X(a=>{if(window.clearTimeout(T.current),typeof(a?Y:I)!="number"){F(a);return}T.current=window.setTimeout(()=>{F(a)},a?Y:I)});return H(()=>{R(f)},{deps:[f],initialMounted:n&&f}),A(()=>()=>{window.clearTimeout(b.current),cancelAnimationFrame(v.current)},[]),{transitionDuration:C,transitionStatus:k,transitionTimingFunction:o||"ease"}}var j={[y.entering]:"in",[y.entered]:"in",[y.exiting]:"out",[y.exited]:"out",[y.preEntering]:"out",[y.preExiting]:"out"};function N({transition:t,state:e,duration:n,timingFunction:r}){const o={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof t=="string"?t in V?{transitionProperty:V[t].transitionProperty,...o,...V[t].common,...V[t][j[e]]}:{}:{transitionProperty:t.transitionProperty,...o,...t.common,...t[j[e]]}}var q={transition:"fade",duration:.2,keepMounted:!1,enterDelay:0,exitDelay:0,timingFunction:"ease",initial:!1,reduceMotion:!1},$=class{static config=q;static set(t){return this.config=this.addDefaults(t),this.config}static merge(t){return this.addDefaults(t)}static addDefaults(t){const e=U(t,this.config);return e.exitDuration===void 0&&(e.exitDuration=e.duration),e}static reset(){this.config=q}};function nt(t){$.set.call($,t)}var Q={some:0,all:1};function Z(t){return typeof t=="string"?t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}function _(t,e,{root:n,margin:r,amount:o="some"}={}){const f=Z(t),c=new WeakMap,d=m=>{m.forEach(s=>{const g=c.get(s.target);if(s.isIntersecting!==!!g)if(s.isIntersecting){const x=e(s);typeof x=="function"?c.set(s.target,x):p.unobserve(s.target)}else g&&(g(s),c.delete(s.target))})},p=new IntersectionObserver(d,{root:n,rootMargin:r,threshold:typeof o=="number"?o:Q[o]});return f.forEach(m=>p.observe(m)),()=>p.disconnect()}function tt(t,{root:e,margin:n,amount:r="some",once:o=!1}={},f={}){const[c,d]=i.useState(!1),{enable:p}=f;return i.useEffect(()=>{if(!p||!t.current||o&&c)return;const m=()=>(d(!0),o?void 0:()=>d(!1)),s={root:e&&e.current||void 0,margin:n,amount:r};return _(t.current,m,s)},[e,t,n,o,r]),c}var rt=({mounted:t,children:e,onExit:n,onEntered:r,onEnter:o,onExited:f,viewport:c,unsafe_alwaysMounted:d,...p})=>{const{duration:m,enterDelay:s,exitDelay:g,exitDuration:x,initial:P,keepMounted:S,timingFunction:Y,transition:I,reduceMotion:C}=$.merge(p),E=t==="whileInView",k=i.useRef(null),w=tt(k,c,{enable:E}),b=E?w:t,{transitionDuration:T,transitionStatus:v,transitionTimingFunction:F}=K({mounted:b,initial:P,exitDuration:x,duration:m,timingFunction:Y,onExit:n,onEntered:r,onEnter:o,onExited:f,enterDelay:s,exitDelay:g,reduceMotion:C}),R=X((u,{mounted:O})=>{let D;if(O||S?typeof e=="function"?D=e(u):i.isValidElement(e)?D=i.cloneElement(e,{style:u}):D=e:D=null,!E)return D;const{placeholder:z,attributes:B}=c||{},G=z||"div";return L.jsx(G,{ref:k,...B,children:D})}),a=X(({mounted:u})=>R(N({transition:I,duration:T,state:v,timingFunction:F}),{mounted:u}));return v===y.exited?d?a({mounted:!1}):R({display:"none"},{mounted:!1}):a({mounted:!0})};export{rt as Transition,V as presets,nt as setGlobalConfig};
